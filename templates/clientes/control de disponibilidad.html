<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Reserva de Fecha</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/control de disponibilidad.css">
</head>

<div class="falling-products">
  <span>🧁</span>
  <span>🍪</span>
  <span>🎂</span>
  <span>🍩</span>
  <span>🍰</span>
  <span>🧁</span>
  <span>🍪</span>
  <span>🎂</span>
</div>

<body>

  <div class="container-box">

    <!-- SECCIÓN: Selección de fecha -->
    <div id="calendario" class="section active">
      <h4>Selecciona la fecha de tu pedido</h4>
      <div class="calendar mt-3">
        <label for="fechaEntrega">Fecha:</label>
        <input type="date" id="fechaEntrega" class="form-control" />
      </div>
      <div class="text-center mt-4">
        <button class="btn-main" onclick="verificarFecha()">Confirmar Día</button>
        <button class="btn btn-secondary" onclick="cancelar()">Cancelar</button>
      </div>
    </div>

    <!-- SECCIÓN: Éxito -->
    <div id="exito" class="section text-center">
      <div class="msg-box">
        ✅ <br>
        <strong>¡Fue exitosa tu reserva!</strong>
      </div>
    </div>

    <!-- SECCIÓN: Error -->
    <div id="error" class="section text-center">
      <div class="msg-box">
        ❌ <br>
        <strong>La fecha ya se encuentra reservada.</strong><br>
        <button class="btn-main mt-3" onclick="volver()">OK</button>
      </div>
    </div>

  </div>

  <script>
    const fechasReservadas = ["2025-06-13", "2025-06-25"];

    function verificarFecha() {
      const fecha = document.getElementById("fechaEntrega").value;

      if (!fecha) {
        alert("Selecciona una fecha válida");
        return;
      }

      if (fechasReservadas.includes(fecha)) {
        mostrarSeccion("error");
      } else {
        mostrarSeccion("exito");
      }
    }

    function cancelar() {
      window.location.href = "index.html"; // Página de inicio
    }

    function volver() {
      mostrarSeccion("calendario");
    }

    function mostrarSeccion(id) {
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }
  </script>

</body>

</html>