<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Disponibilidad - Admin</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_disponibilidad.css') }}">
</head>

<body>
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="mt-4">
    {% for category, message in messages %}
    <div
      class="alert alert-{{ 'success' if category == 'success' else 'danger' }} alert-dismissible fade show shadow-sm rounded-3 d-flex align-items-center gap-2"
      role="alert">
      {% if category == 'success' %}
      <i class="bi bi-check-circle-fill text-success fs-5"></i>
      {% else %}
      <i class="bi bi-exclamation-triangle-fill text-danger fs-5"></i>
      {% endif %}
      <div class="flex-grow-1">
        {{ message }}
      </div>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
    </div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}



  <a href="javascript:history.back()" class="volver-btn">
    ← Volver
  </a>



  <!-- CONTENIDO PRINCIPAL -->
  <div class="container">
    <h1>📅 Disponibilidad de pedidos</h1>

    <form method="POST" class="form-disponibilidad">
      <label>Fecha:</label>
      <input type="date" name="fecha" required>
      <label>Hora:</label>
      <input type="time" name="hora" required>
      <button type="submit">Agregar ✅</button>
    </form>

    <table>
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Hora</th>
          <th>Acción</th>
        </tr>
      </thead>
      <tbody>
        {% for d in disponibilidades %}
        <tr>
          <td>{{ d.Fecha.strftime('%Y-%m-%d') }}</td>
          <td>{{ d.Hora.strftime('%H:%M') }}</td>
          <td>
            <form method="POST" action="{{ url_for('admin.borrar_disponibilidad', id=d.ID) }}">
              <button type="submit">Eliminar 🗑️</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <footer class="footer">
    <div class="footer-contenido">
      <div class="footer-item">
        <h4>⏰ Horarios de atención</h4>
        <p>Lunes a Viernes: 7am - 8pm</p>
        <p>Sábados, Domingos y Festivos: 9am - 5:30pm</p>
      </div>
      <div class="footer-item">
        <h4>👩‍💻 Contáctanos</h4>
        <p>Comunícate con nosotros</p>
      </div>

      <div class="footer-item">
        <h4>❓ Preguntas</h4>
        <p>¿Tienes dudas?</p>
      </div>
      <div class="footer-item">
        <h4>📍 Ubicación</h4>
        <p>Carrera #56 #19c -</p>
      </div>
    </div>
  </footer>

</body>

</html>